(()=>{var e={};e.id=479,e.ids=[479],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8302:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(7096),l=r(6132),s=r(7284),i=r.n(s),n=r(2564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["documents",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7965)),"/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/app/documents/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9113)),"/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,5666)),"/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/app/not-found.tsx"]}],c=["/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/app/documents/page.tsx"],m="/documents/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/documents/page",pathname:"/documents",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},240:(e,t,r)=>{Promise.resolve().then(r.bind(r,4746)),Promise.resolve().then(r.bind(r,567)),Promise.resolve().then(r.bind(r,6641))},567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>DocumentsManager});var a=r(3704),l=r(9885),s=r(8072),i=r(793),n=r(2272);function DocumentItem({document:e,isSelected:t,onDocumentClick:r,onDeleteDocument:l,getMemberName:s,getDocumentTypeLabel:i,formatDate:n}){return(0,a.BX)("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${t?"bg-indigo-50 border-indigo-300":"bg-white border-gray-200 hover:bg-gray-50"}`,onClick:()=>r(e),children:[(0,a.BX)("div",{className:"flex justify-between items-start",children:[(0,a.BX)("div",{className:"flex items-start",children:[a.tZ("div",{className:"flex-shrink-0",children:(e=>{switch(e){case"pdf":return a.tZ("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.tZ("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})});case"image":return a.tZ("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.tZ("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"doc":return a.tZ("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.tZ("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});default:return a.tZ("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.tZ("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}})(e.type)}),(0,a.BX)("div",{className:"mr-3",children:[a.tZ("h3",{className:"font-medium",children:e.title}),(0,a.BX)("p",{className:"text-sm text-gray-500",children:[a.tZ("span",{className:"font-medium",children:"שייך ל: "}),s(e.memberId)]})]})]}),a.tZ("div",{className:"flex-shrink-0",children:a.tZ("span",{className:"inline-block bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full",children:i(e.type)})})]}),(0,a.BX)("div",{className:"mt-3 space-y-2",children:[(0,a.BX)("p",{className:"text-xs text-gray-500",children:[a.tZ("span",{className:"font-medium",children:"תאריך העלאה: "}),n(e.uploadDate)]}),e.tags.length>0&&a.tZ("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map((e,t)=>a.tZ("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full",children:e},t))})]}),(0,a.BX)("div",{className:"mt-4 flex justify-end gap-2",children:[a.tZ("button",{onClick:t=>{t.stopPropagation(),alert("פתיחת מסמך: "+e.title)},className:"px-3 py-1 text-sm font-medium rounded-md bg-indigo-50 text-indigo-600 hover:bg-indigo-100 transition-colors",children:"צפייה"}),a.tZ("button",{onClick:t=>{t.stopPropagation(),window.confirm("האם אתה בטוח שברצונך למחוק מסמך זה?")&&l(e.id)},className:"px-3 py-1 text-sm font-medium rounded-md bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:"מחיקה"})]})]})}function UploadDocumentForm({onAddDocument:e,onCancel:t}){let[r,i]=(0,l.useState)(""),[n,o]=(0,l.useState)(0),[d,c]=(0,l.useState)("pdf"),[m,u]=(0,l.useState)(""),[p,h]=(0,l.useState)(null),[g,x]=(0,l.useState)(""),resetForm=()=>{i(""),o(0),c("pdf"),u(""),h(null),x("")};return(0,a.BX)("form",{onSubmit:t=>{if(t.preventDefault(),!r.trim()){x("יש להזין כותרת למסמך");return}if(0===n){x("יש לבחור אדם שאליו שייך המסמך");return}if(!p){x("יש לבחור קובץ להעלאה");return}let a=m.split(",").map(e=>e.trim()).filter(e=>e.length>0),l="/documents/"+p.name.replace(/\s+/g,"_"),s={id:0,title:r,memberId:n,type:"other"===d?"doc":d,uploadDate:new Date().toISOString().split("T")[0],url:l,uploadedBy:n,tags:a};e(s),resetForm()},className:"space-y-4",children:[g&&a.tZ("div",{className:"p-3 bg-red-50 text-red-600 rounded-md text-sm font-medium",children:g}),(0,a.BX)("div",{children:[a.tZ("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"כותרת המסמך*"}),a.tZ("input",{type:"text",id:"title",value:r,onChange:e=>i(e.target.value),className:"input-field",placeholder:"תעודת לידה, תעודת זהות, וכו'"})]}),(0,a.BX)("div",{children:[a.tZ("label",{htmlFor:"memberId",className:"block text-sm font-medium text-gray-700 mb-1",children:"שייך ל*"}),(0,a.BX)("select",{id:"memberId",value:n,onChange:e=>o(Number(e.target.value)),className:"input-field",children:[a.tZ("option",{value:0,disabled:!0,children:"בחר אדם"}),s.R7.members.map(e=>a.tZ("option",{value:e.id,children:e.firstName},e.id))]})]}),(0,a.BX)("div",{children:[a.tZ("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"סוג מסמך*"}),(0,a.BX)("select",{id:"type",value:d,onChange:e=>c(e.target.value),className:"input-field",children:[a.tZ("option",{value:"pdf",children:"PDF"}),a.tZ("option",{value:"image",children:"תמונה"}),a.tZ("option",{value:"doc",children:"מסמך Word"}),a.tZ("option",{value:"other",children:"אחר"})]})]}),(0,a.BX)("div",{children:[a.tZ("label",{htmlFor:"file",className:"block text-sm font-medium text-gray-700 mb-1",children:"בחר קובץ*"}),a.tZ("input",{type:"file",id:"file",onChange:e=>{e.target.files&&e.target.files.length>0&&h(e.target.files[0])},className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),p&&(0,a.BX)("p",{className:"mt-1 text-sm text-gray-500",children:["נבחר: ",p.name]})]}),(0,a.BX)("div",{children:[a.tZ("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"תגיות (הפרדה בפסיקים)"}),a.tZ("input",{type:"text",id:"tags",value:m,onChange:e=>u(e.target.value),className:"input-field",placeholder:"מסמכים רשמיים, בית ספר, וכו'"})]}),(0,a.BX)("div",{className:"flex justify-end space-x-3 space-x-reverse",children:[a.tZ("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"ביטול"}),a.tZ("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors",children:"העלאה"})]})]})}function DocumentsManager(){let[e,t]=(0,l.useState)([]),[r,o]=(0,l.useState)("all"),[d,c]=(0,l.useState)("all"),[m,u]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1),[g,x]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=s.mk.map(e=>({...e,type:e.type}));t(e)},[]);let handleDeleteDocument=r=>{t(e.filter(e=>e.id!==r)),g?.id===r&&x(null)},handleDocumentClick=e=>{x(e===g?null:e)},f=e.filter(e=>{let t="all"===r||e.memberId===r,a="all"===d||e.type===d,l=""===m||e.title.toLowerCase().includes(m.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(m.toLowerCase()));return t&&a&&l}),getMemberName=e=>{let t=s.R7.members.find(t=>t.id===e);return t?t.firstName:"לא ידוע"},getDocumentTypeLabel=e=>{switch(e){case"pdf":return"מסמך PDF";case"image":return"תמונה";case"doc":return"מסמך Word";default:return"קובץ אחר"}},formatDate=e=>{let t=new Date(e);return(0,i.Z)(t,"d בMMMM yyyy",{locale:n.Z})};return(0,a.BX)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.BX)("div",{className:"lg:col-span-1",children:[(0,a.BX)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[a.tZ("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"סינון מסמכים"}),(0,a.BX)("div",{className:"space-y-4",children:[(0,a.BX)("div",{children:[a.tZ("label",{htmlFor:"searchQuery",className:"block text-sm font-medium text-gray-700 mb-1",children:"חיפוש"}),a.tZ("input",{type:"text",id:"searchQuery",value:m,onChange:e=>u(e.target.value),className:"input-field",placeholder:"חפש לפי כותרת או תגיות..."})]}),(0,a.BX)("div",{children:[a.tZ("label",{htmlFor:"filterByMember",className:"block text-sm font-medium text-gray-700 mb-1",children:"שייך ל"}),(0,a.BX)("select",{id:"filterByMember",value:r,onChange:e=>o("all"===e.target.value?"all":Number(e.target.value)),className:"input-field",children:[a.tZ("option",{value:"all",children:"כל בני המשפחה"}),s.R7.members.map(e=>a.tZ("option",{value:e.id,children:e.firstName},e.id))]})]}),(0,a.BX)("div",{children:[a.tZ("label",{htmlFor:"filterByType",className:"block text-sm font-medium text-gray-700 mb-1",children:"סוג מסמך"}),(0,a.BX)("select",{id:"filterByType",value:d,onChange:e=>c(e.target.value),className:"input-field",children:[a.tZ("option",{value:"all",children:"כל הסוגים"}),a.tZ("option",{value:"pdf",children:"PDF"}),a.tZ("option",{value:"image",children:"תמונה"}),a.tZ("option",{value:"doc",children:"מסמך Word"}),a.tZ("option",{value:"other",children:"אחר"})]})]}),(0,a.BX)("button",{onClick:()=>h(!p),className:"w-full btn btn-primary flex items-center justify-center",children:[a.tZ("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.tZ("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),p?"ביטול":"העלאת מסמך חדש"]})]})]}),p&&(0,a.BX)("div",{className:"mt-4 bg-white p-4 rounded-lg shadow-md",children:[a.tZ("h2",{className:"text-lg font-bold mb-4",children:"העלאת מסמך חדש"}),a.tZ(UploadDocumentForm,{onAddDocument:r=>{let a={...r,id:e.length>0?Math.max(...e.map(e=>e.id))+1:1};t([...e,a]),h(!1)},onCancel:()=>h(!1)})]})]}),a.tZ("div",{className:"lg:col-span-2",children:f.length>0?a.tZ("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(e=>a.tZ(DocumentItem,{document:e,isSelected:g?.id===e.id,onDocumentClick:handleDocumentClick,onDeleteDocument:handleDeleteDocument,getMemberName:getMemberName,getDocumentTypeLabel:getDocumentTypeLabel,formatDate:formatDate},e.id))}):a.tZ("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:a.tZ("p",{className:"text-gray-500 text-lg",children:"אין מסמכים התואמים את הסינון שבחרת"})})})]})}},7965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>DocumentsPage});var a=r(4656);r(3542);var l=r(639),s=r(5153);let i=(0,s.createProxy)(String.raw`/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/components/documents/DocumentsManager.tsx`),{__esModule:n,$$typeof:o}=i,d=i.default;var c=r(788);function DocumentsPage(){return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(c.ZP,{}),a.jsx(l.ZP,{}),(0,a.jsxs)("main",{className:"container py-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"מסמכים אישיים"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"ניהול מסמכים ותמונות של בני המשפחה"})]}),a.jsx(d,{})]})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[598,972,603,219,525,386],()=>__webpack_exec__(8302));module.exports=r})();