(()=>{var e={};e.id=329,e.ids=[329],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8234:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c});var r=a(7096),i=a(6132),l=a(7284),n=a.n(l),s=a(2564),d={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>s[e]);a.d(t,d);let c=["",{children:["calendar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,989)),"/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/app/calendar/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9113)),"/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,5666)),"/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/app/not-found.tsx"]}],o=["/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/app/calendar/page.tsx"],m="/calendar/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/calendar/page",pathname:"/calendar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},797:(e,t,a)=>{Promise.resolve().then(a.bind(a,4746)),Promise.resolve().then(a.bind(a,8852)),Promise.resolve().then(a.bind(a,6641))},8852:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>FamilyCalendar});var r=a(3704),i=a(3745),l=a.n(i),n=a(9885),s=a(34),d=a(8072),c=a(793),o=a(31),m=a(2272);function AddEventForm({onAddEvent:e,onCancel:t,initialDate:a}){let i=(0,c.Z)(new Date,"yyyy-MM-dd"),l="09:00",s="10:00",o=(0,c.Z)(a,"yyyy-MM-dd"),[m,u]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[g,x]=(0,n.useState)(""),[f,b]=(0,n.useState)(o),[v,y]=(0,n.useState)(l),[N,Z]=(0,n.useState)(s),[w,k]=(0,n.useState)([]),[_,B]=(0,n.useState)("none"),[X,C]=(0,n.useState)(""),resetForm=()=>{u(""),p(""),x(""),b(o),y(l),Z(s),k([]),B("none"),C("")},handleParticipantChange=e=>{k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,r.BX)("form",{onSubmit:t=>{if(t.preventDefault(),!m.trim()){C("יש להזין כותרת לאירוע");return}if(!h.trim()){C("יש להזין מיקום לאירוע");return}if(!f){C("יש לבחור תאריך");return}if(!v||!N){C("יש להזין שעת התחלה ושעת סיום");return}if(0===w.length){C("יש לבחור לפחות משתתף אחד");return}let a={id:0,title:m,startDate:`${f}T${v}:00`,endDate:`${f}T${N}:00`,participants:w,location:h,description:g,repeat:_};e(a),resetForm()},className:"space-y-4",children:[X&&r.tZ("div",{className:"p-3 bg-red-50 text-red-600 rounded-md text-sm font-medium",children:X}),(0,r.BX)("div",{children:[r.tZ("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"כותרת האירוע*"}),r.tZ("input",{type:"text",id:"title",value:m,onChange:e=>u(e.target.value),className:"input-field",placeholder:"הזן כותרת לאירוע"})]}),(0,r.BX)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.BX)("div",{children:[r.tZ("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"תאריך*"}),r.tZ("input",{type:"date",id:"date",value:f,onChange:e=>b(e.target.value),className:"input-field",min:i})]}),(0,r.BX)("div",{children:[r.tZ("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"מיקום*"}),r.tZ("input",{type:"text",id:"location",value:h,onChange:e=>p(e.target.value),className:"input-field",placeholder:"הזן מיקום"})]})]}),(0,r.BX)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.BX)("div",{children:[r.tZ("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"שעת התחלה*"}),r.tZ("input",{type:"time",id:"startTime",value:v,onChange:e=>y(e.target.value),className:"input-field"})]}),(0,r.BX)("div",{children:[r.tZ("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"שעת סיום*"}),r.tZ("input",{type:"time",id:"endTime",value:N,onChange:e=>Z(e.target.value),className:"input-field"})]})]}),(0,r.BX)("div",{children:[r.tZ("label",{htmlFor:"participants",className:"block text-sm font-medium text-gray-700 mb-1",children:"משתתפים*"}),r.tZ("div",{className:"grid grid-cols-2 gap-2",children:d.R7.members.map(e=>(0,r.BX)("div",{className:"flex items-center",children:[r.tZ("input",{type:"checkbox",id:`participant-${e.id}`,checked:w.includes(e.id),onChange:()=>handleParticipantChange(e.id),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),r.tZ("label",{htmlFor:`participant-${e.id}`,className:"mr-2 block text-sm text-gray-700",children:e.firstName})]},e.id))})]}),(0,r.BX)("div",{children:[r.tZ("label",{htmlFor:"repeat",className:"block text-sm font-medium text-gray-700 mb-1",children:"חזרה"}),(0,r.BX)("select",{id:"repeat",value:_,onChange:e=>B(e.target.value),className:"input-field",children:[r.tZ("option",{value:"none",children:"ללא חזרה"}),r.tZ("option",{value:"daily",children:"יומי"}),r.tZ("option",{value:"weekly",children:"שבועי"}),r.tZ("option",{value:"monthly",children:"חודשי"}),r.tZ("option",{value:"yearly",children:"שנתי"})]})]}),(0,r.BX)("div",{children:[r.tZ("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"תיאור האירוע"}),r.tZ("textarea",{id:"description",value:g,onChange:e=>x(e.target.value),className:"input-field min-h-[100px]",placeholder:"הזן תיאור מפורט של האירוע (לא חובה)"})]}),(0,r.BX)("div",{className:"flex justify-end space-x-3 space-x-reverse",children:[r.tZ("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"ביטול"}),r.tZ("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors",children:"הוספת אירוע"})]})]})}function EventDetails({event:e,onDelete:t}){let formatEventTime=e=>{let t=new Date(e);return(0,c.Z)(t,"HH:mm",{locale:m.Z})},getMemberName=e=>{let t=d.R7.members.find(t=>t.id===e);return t?t.firstName:"לא ידוע"};return(0,r.BX)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.BX)("div",{className:"flex justify-between items-start mb-4",children:[r.tZ("h2",{className:"text-xl font-bold text-gray-800",children:e.title}),r.tZ("button",{onClick:()=>t(e.id),className:"text-red-500 hover:text-red-700 transition-colors","aria-label":"מחק אירוע",children:r.tZ("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.tZ("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),(0,r.BX)("div",{className:"space-y-4",children:[(0,r.BX)("div",{children:[r.tZ("h3",{className:"text-sm font-medium text-gray-500",children:"תאריך"}),r.tZ("p",{className:"mt-1 text-indigo-600 font-medium",children:(e=>{let t=new Date(e);return(0,c.Z)(t,"EEEE, d בMMMM yyyy",{locale:m.Z})})(e.startDate)})]}),(0,r.BX)("div",{children:[r.tZ("h3",{className:"text-sm font-medium text-gray-500",children:"שעות"}),(0,r.BX)("p",{className:"mt-1",children:[formatEventTime(e.startDate)," - ",formatEventTime(e.endDate)]})]}),(0,r.BX)("div",{children:[r.tZ("h3",{className:"text-sm font-medium text-gray-500",children:"מיקום"}),r.tZ("p",{className:"mt-1",children:e.location})]}),"none"!==e.repeat&&(0,r.BX)("div",{children:[r.tZ("h3",{className:"text-sm font-medium text-gray-500",children:"חזרה"}),r.tZ("p",{className:"mt-1",children:(e=>{switch(e){case"none":return"ללא חזרה";case"daily":return"יומי";case"weekly":return"שבועי";case"monthly":return"חודשי";case"yearly":return"שנתי";default:return"לא ידוע"}})(e.repeat)})]}),(0,r.BX)("div",{children:[r.tZ("h3",{className:"text-sm font-medium text-gray-500",children:"משתתפים"}),r.tZ("div",{className:"mt-1 flex flex-wrap gap-1",children:e.participants.map(e=>r.tZ("span",{className:"inline-block bg-gray-100 text-gray-800 text-sm px-2 py-1 rounded-full",children:getMemberName(e)},e))})]}),e.description&&(0,r.BX)("div",{children:[r.tZ("h3",{className:"text-sm font-medium text-gray-500",children:"תיאור"}),r.tZ("p",{className:"mt-1 text-gray-600 whitespace-pre-line",children:e.description})]})]})]})}function FamilyCalendar(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(new Date),[u,h]=(0,n.useState)([]),[p,g]=(0,n.useState)(!1),[x,f]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=d.Kh.map(e=>({...e,repeat:e.repeat,category:e.category}));t(e)},[]),(0,n.useEffect)(()=>{let t=e.filter(e=>{let t=new Date(e.startDate);return(0,o.Z)(t,a)});h(t)},[a,e]);let handleEventClick=e=>{f(e)},getMemberName=e=>{let t=d.R7.members.find(t=>t.id===e);return t?t.firstName:"לא ידוע"};return(0,r.BX)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.BX)("div",{className:"lg:col-span-2",children:[(0,r.BX)("div",{className:"jsx-d5bdb114133f0641 bg-white p-4 rounded-lg shadow-md",children:[r.tZ(l(),{id:"d5bdb114133f0641",children:'.react-calendar{width:100%;border:none;font-family:"Rubik",sans-serif;direction:rtl}.react-calendar__navigation{-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:1rem}.react-calendar__month-view__weekdays__weekday abbr{text-decoration:none;font-weight:600}.react-calendar__tile{padding:1rem .5rem;position:relative}.react-calendar__tile:enabled:hover,.react-calendar__tile:enabled:focus{background-color:#e0e7ff;-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem}.react-calendar__tile--active{background-color:#4f46e5!important;color:white;-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem}.react-calendar__tile--now{background-color:#f3f4f6;-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem}'}),r.tZ(s.ZP,{onChange:e=>{i(e),f(null)},value:a,locale:"he-IL",tileContent:({date:t})=>{let a=e.filter(e=>{let a=new Date(e.startDate);return(0,o.Z)(a,t)});return a.length>0?(0,r.BX)("div",{className:"flex flex-col items-center mt-1",children:[r.tZ("div",{className:"w-2 h-2 bg-indigo-600 rounded-full"}),a.length>1&&r.tZ("span",{className:"text-xs text-indigo-700 font-medium mt-0.5",children:a.length})]}):null}})]}),(0,r.BX)("div",{className:"mt-6 flex justify-between items-center",children:[(0,r.BX)("h2",{className:"text-xl font-semibold",children:["אירועים ביום ",(0,c.Z)(a,"EEEE, d בMMMM yyyy",{locale:m.Z})]}),(0,r.BX)("button",{onClick:()=>g(!p),className:"btn btn-primary flex items-center",children:[r.tZ("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:r.tZ("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),p?"ביטול":"הוספת אירוע"]})]}),p&&(0,r.BX)("div",{className:"mt-4 bg-white p-6 rounded-lg shadow-md",children:[r.tZ("h3",{className:"text-lg font-bold mb-4",children:"הוספת אירוע חדש"}),r.tZ(AddEventForm,{onAddEvent:a=>{let r={...a,id:e.length>0?Math.max(...e.map(e=>e.id))+1:1};t([...e,r]),g(!1)},onCancel:()=>g(!1),initialDate:a})]}),u.length>0?r.tZ("div",{className:"mt-4 grid gap-4",children:u.map(e=>(0,r.BX)("div",{onClick:()=>handleEventClick(e),className:`p-4 rounded-lg border cursor-pointer transition-colors ${x?.id===e.id?"bg-indigo-50 border-indigo-300":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[(0,r.BX)("div",{className:"flex justify-between items-start",children:[r.tZ("h3",{className:"font-medium text-lg",children:e.title}),(0,r.BX)("div",{className:"text-sm text-indigo-600",children:[(0,c.Z)(new Date(e.startDate),"HH:mm")," - ",(0,c.Z)(new Date(e.endDate),"HH:mm")]})]}),(0,r.BX)("p",{className:"text-sm text-gray-600 mt-1",children:[r.tZ("span",{className:"font-medium",children:"מיקום: "}),e.location]}),r.tZ("div",{className:"mt-2 flex flex-wrap gap-1",children:e.participants.map(e=>r.tZ("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full",children:getMemberName(e)},e))})]},e.id))}):r.tZ("div",{className:"mt-4 bg-white p-8 rounded-lg shadow text-center",children:r.tZ("p",{className:"text-gray-500 text-lg",children:"אין אירועים מתוכננים לתאריך זה"})})]}),r.tZ("div",{className:"lg:col-span-1",children:x?r.tZ(EventDetails,{event:x,onDelete:a=>{t(e.filter(e=>e.id!==a)),f(null)}}):(0,r.BX)("div",{className:"bg-white p-6 rounded-lg shadow-md h-full flex flex-col justify-center items-center",children:[r.tZ("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.tZ("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.tZ("p",{className:"text-gray-500 text-lg text-center",children:"בחר אירוע כדי לצפות בפרטים נוספים"})]})})]})}a(6648)},989:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>CalendarPage});var r=a(4656);a(3542);var i=a(639),l=a(5153);let n=(0,l.createProxy)(String.raw`/Users/eitanshlomohiyifrach/Documents/family.com/family-app/src/components/calendar/FamilyCalendar.tsx`),{__esModule:s,$$typeof:d}=n,c=n.default;var o=a(788);function CalendarPage(){return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(o.ZP,{}),r.jsx(i.ZP,{}),(0,r.jsxs)("main",{className:"container py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"יומן משפחתי"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"צפייה, הוספה ועריכה של אירועים משפחתיים"})]}),r.jsx(c,{})]})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[598,972,603,191,219,525,386],()=>__webpack_exec__(8234));module.exports=a})();