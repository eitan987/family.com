"use strict";exports.id=525,exports.ids=[525],exports.modules={5035:(t,e,r)=>{r.d(e,{kv:()=>s});var a=r(1145);let o=a.Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"},withCredentials:!0});o.interceptors.request.use(t=>t,t=>Promise.reject(t));let s={login:async(t,e)=>{try{let r=await o.post("/auth/login",{email:t,password:e});return r.data.token&&(localStorage.setItem("token",r.data.token),localStorage.setItem("currentUser",JSON.stringify(r.data.user))),r.data}catch(t){throw console.error("שגיאה בהתחברות:",t),t}},logout:async()=>{try{return await o.get("/auth/logout"),localStorage.removeItem("token"),localStorage.removeItem("currentUser"),{success:!0}}catch(t){throw console.error("שגיאה בהתנתקות:",t),t}},getCurrentUser:async()=>{try{let t=await o.get("/auth/me");return t.data}catch(t){throw console.error("שגיאה בקבלת פרטי משתמש:",t),t}},updateUserDetails:async t=>{try{let e=await o.put("/auth/updatedetails",t);return e.data.user&&localStorage.setItem("currentUser",JSON.stringify(e.data.user)),e.data}catch(t){throw console.error("שגיאה בעדכון פרטי משתמש:",t),t}},updatePassword:async(t,e)=>{try{let r=await o.put("/auth/updatepassword",{currentPassword:t,newPassword:e});return r.data}catch(t){throw console.error("שגיאה בשינוי סיסמה:",t),t}}}}};